<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transportify Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="bg-gray-50">
    <!-- Navigation Header -->
    <nav class="bg-[#1E3A8A] shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="text-2xl font-bold text-white">
                        ðŸšš Transportify Admin
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-blue-200">Admin Dashboard</span>
                    <button id="logoutBtn" class="bg-[#84CC16] hover:bg-[#73B106] text-white px-4 py-2 rounded-md text-sm font-medium transition-colors">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Add Shipment Form -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-[#1E3A8A] mb-6 flex items-center">
                <i data-lucide="plus-circle" class="mr-2"></i>
                Add New Shipment
            </h2>
            
            <form id="shipmentForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Sender Information -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold text-[#374151] border-b border-gray-200 pb-2">Sender Information</h3>
                    
                    <div>
                        <label for="senderName" class="block text-sm font-medium text-[#374151] mb-1">Sender Name *</label>
                        <input type="text" id="senderName" name="senderName" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="senderEmail" class="block text-sm font-medium text-[#374151] mb-1">Sender Email *</label>
                        <input type="email" id="senderEmail" name="senderEmail" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="senderPhone" class="block text-sm font-medium text-[#374151] mb-1">Sender Phone *</label>
                        <input type="tel" id="senderPhone" name="senderPhone" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="senderAddress" class="block text-sm font-medium text-[#374151] mb-1">Sender Address *</label>
                        <textarea id="senderAddress" name="senderAddress" rows="2" required
                                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent"></textarea>
                    </div>
                </div>

                <!-- Receiver Information -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold text-[#374151] border-b border-gray-200 pb-2">Receiver Information</h3>
                    
                    <div>
                        <label for="receiverName" class="block text-sm font-medium text-[#374151] mb-1">Receiver Name *</label>
                        <input type="text" id="receiverName" name="receiverName" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="receiverEmail" class="block text-sm font-medium text-[#374151] mb-1">Receiver Email *</label>
                        <input type="email" id="receiverEmail" name="receiverEmail" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="receiverPhone" class="block text-sm font-medium text-[#374151] mb-1">Receiver Phone *</label>
                        <input type="tel" id="receiverPhone" name="receiverPhone" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="receiverAddress" class="block text-sm font-medium text-[#374151] mb-1">Receiver Address *</label>
                        <textarea id="receiverAddress" name="receiverAddress" rows="2" required
                                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent"></textarea>
                    </div>
                </div>

                <!-- Origin Details -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold text-[#374151] border-b border-gray-200 pb-2">Origin Details</h3>
                    
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label for="originCity" class="block text-sm font-medium text-[#374151] mb-1">City *</label>
                            <input type="text" id="originCity" name="originCity" required
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                        <div>
                            <label for="originState" class="block text-sm font-medium text-[#374151] mb-1">State *</label>
                            <input type="text" id="originState" name="originState" required
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                    </div>
                    
                    <div>
                        <label for="originCountry" class="block text-sm font-medium text-[#374151] mb-1">Country *</label>
                        <input type="text" id="originCountry" name="originCountry" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="originFacility" class="block text-sm font-medium text-[#374151] mb-1">Facility</label>
                        <input type="text" id="originFacility" name="originFacility" placeholder="e.g., Lagos Hub"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                    </div>
                </div>

                <!-- Destination Details -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold text-[#374151] border-b border-gray-200 pb-2">Destination Details</h3>
                    
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label for="destinationCity" class="block text-sm font-medium text-[#374151] mb-1">City *</label>
                            <input type="text" id="destinationCity" name="destinationCity" required
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                        <div>
                            <label for="destinationState" class="block text-sm font-medium text-[#374151] mb-1">State *</label>
                            <input type="text" id="destinationState" name="destinationState" required
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                    </div>
                    
                    <div>
                        <label for="destinationCountry" class="block text-sm font-medium text-[#374151] mb-1">Country *</label>
                        <input type="text" id="destinationCountry" name="destinationCountry" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="destinationFacility" class="block text-sm font-medium text-[#374151] mb-1">Facility</label>
                        <input type="text" id="destinationFacility" name="destinationFacility" placeholder="e.g., Abuja Hub"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                    </div>
                </div>

                <!-- Package Details -->
                <div class="space-y-4 md:col-span-2">
                    <h3 class="text-lg font-semibold text-[#374151] border-b border-gray-200 pb-2">Package Details</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div>
                            <label for="packageName" class="block text-sm font-medium text-[#374151] mb-1">Item Name *</label>
                            <input type="text" id="packageName" name="packageName" required placeholder="e.g., iPhone 15 Pro"
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                        
                        <div>
                            <label for="packageDescription" class="block text-sm font-medium text-[#374151] mb-1">Description</label>
                            <input type="text" id="packageDescription" name="packageDescription" placeholder="e.g., Latest iPhone model"
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                        
                        <div>
                            <label for="packageCategory" class="block text-sm font-medium text-[#374151] mb-1">Item Category</label>
                            <select id="packageCategory" name="packageCategory"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                                <option value="">Select Category</option>
                                <option value="electronics">Electronics</option>
                                <option value="clothing">Clothing</option>
                                <option value="books">Books</option>
                                <option value="home">Home & Garden</option>
                                <option value="sports">Sports</option>
                                <option value="health">Health & Beauty</option>
                                <option value="automotive">Automotive</option>
                                <option value="jewelry">Jewelry</option>
                                <option value="toys">Toys</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="cost" class="block text-sm font-medium text-[#374151] mb-1">Cost ($)</label>
                            <input type="number" id="cost" name="cost" step="0.01" placeholder="0.00"
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div>
                            <label for="weight" class="block text-sm font-medium text-[#374151] mb-1">Weight (kg)</label>
                            <input type="number" id="weight" name="weight" step="0.1" placeholder="Optional"
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                        
                        <div>
                            <label for="dimensions" class="block text-sm font-medium text-[#374151] mb-1">Dimensions (LÃ—WÃ—H cm)</label>
                            <input type="text" id="dimensions" name="dimensions" placeholder="e.g., 30Ã—20Ã—15"
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                        
                        <div>
                            <label for="paymentMethod" class="block text-sm font-medium text-[#374151] mb-1">Payment Method</label>
                            <select id="paymentMethod" name="paymentMethod"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                                <option value="">Select Payment Method</option>
                                <option value="cash">Cash</option>
                                <option value="credit-card">Credit Card</option>
                                <option value="debit-card">Debit Card</option>
                                <option value="bank-transfer">Bank Transfer</option>
                                <option value="paypal">PayPal</option>
                                <option value="venmo">Venmo</option>
                                <option value="cashapp">Cash App</option>
                                <option value="zelle">Zelle</option>
                                <option value="apple-pay">Apple Pay</option>
                                <option value="chime">Chime</option>
                                <option value="gift-cards">Gift Cards</option>
                                <option value="crypto">Cryptocurrency</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="serviceType" class="block text-sm font-medium text-[#374151] mb-1">Service Type</label>
                            <select id="serviceType" name="serviceType"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                                <option value="standard">Standard</option>
                                <option value="express">Express</option>
                                <option value="overnight">Overnight</option>
                                <option value="economy">Economy</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="carrierId" class="block text-sm font-medium text-[#374151] mb-1">Carrier ID</label>
                            <input type="text" id="carrierId" name="carrierId" placeholder="Optional"
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                        
                        <div>
                            <label for="driverId" class="block text-sm font-medium text-[#374151] mb-1">Driver ID</label>
                            <input type="text" id="driverId" name="driverId" placeholder="Optional"
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                    </div>
                </div>

                <!-- Delivery Information -->
                <div class="space-y-4 md:col-span-2">
                    <h3 class="text-lg font-semibold text-[#374151] border-b border-gray-200 pb-2">Delivery Information</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="estimatedDeliveryDate" class="block text-sm font-medium text-[#374151] mb-1">Estimated Delivery Date *</label>
                            <input type="datetime-local" id="estimatedDeliveryDate" name="estimatedDeliveryDate" required
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                        </div>
                        
                        <div>
                            <label for="status" class="block text-sm font-medium text-[#374151] mb-1">Initial Status</label>
                            <select id="status" name="status"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                                <option value="pending">Pending</option>
                                <option value="processing">Processing</option>
                                <option value="in-transit">In Transit</option>
                                <option value="out-for-delivery">Out for Delivery</option>
                                <option value="on-hold">On Hold</option>
                                <option value="delivered">Delivered</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="md:col-span-2">
                    <button type="submit" 
                            class="w-full btn-solid-green text-white px-6 py-3 rounded-md font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl">
                        <i data-lucide="truck" class="inline mr-2"></i>
                        Create Shipment
                    </button>
                </div>
            </form>

            <!-- Success Message -->
            <div id="successMessage" class="hidden mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md">
                <div class="flex items-center">
                    <i data-lucide="check-circle" class="mr-2"></i>
                    <span id="successText"></span>
                </div>
            </div>
        </div>

        <!-- Statistics Cards -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-full bg-blue-100 text-[#3B82F6]">
                        <i data-lucide="package" class="w-6 h-6"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-[#374151]">Total Shipments</p>
                        <p class="text-2xl font-bold text-[#1E3A8A]" id="totalShipments">0</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-full bg-green-100 text-[#84CC16]">
                        <i data-lucide="truck" class="w-6 h-6"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-[#374151]">In Transit</p>
                        <p class="text-2xl font-bold text-[#1E3A8A]" id="inTransitCount">0</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-full bg-yellow-100 text-yellow-600">
                        <i data-lucide="clock" class="w-6 h-6"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-[#374151]">Pending</p>
                        <p class="text-2xl font-bold text-[#1E3A8A]" id="pendingCount">0</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-full bg-green-100 text-green-600">
                        <i data-lucide="check-circle" class="w-6 h-6"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-[#374151]">Delivered</p>
                        <p class="text-2xl font-bold text-[#1E3A8A]" id="deliveredCount">0</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Shipments Map -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-[#1E3A8A] mb-6 flex items-center">
                <i data-lucide="map" class="mr-2"></i>
                Shipments Map
            </h2>
            <div class="flex items-center space-x-3 mb-4">
                <input id="mapSearchInput" type="text" placeholder="Search location (city, state, country)"
                       class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#3B82F6] focus:border-transparent">
                <button id="mapSearchBtn" class="btn-solid-blue px-4 py-2 rounded-md text-white">Search</button>
                <button id="useCurrentLocationBtn" class="btn-solid-green px-4 py-2 rounded-md text-white">Use Current Location</button>
            </div>
            <div id="map" class="w-full h-96 rounded-lg border border-gray-300"></div>
        </div>

        <!-- Shipments Table -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold text-[#1E3A8A] mb-6 flex items-center">
                <i data-lucide="list" class="mr-2"></i>
                All Shipments
            </h2>
            
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-[#374151] uppercase tracking-wider">Tracking ID</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-[#374151] uppercase tracking-wider">Sender</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-[#374151] uppercase tracking-wider">Destination</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-[#374151] uppercase tracking-wider">Status</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-[#374151] uppercase tracking-wider">Created</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-[#374151] uppercase tracking-wider">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="shipmentsTableBody" class="bg-white divide-y divide-gray-200">
                        <!-- Shipments will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Edit Shipment Modal -->
    <div id="editModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[95vh] flex flex-col">
                <!-- Header - Fixed -->
                <div class="flex justify-between items-center p-6 border-b bg-white">
                    <h3 class="text-xl font-semibold text-gray-900">Edit Shipment</h3>
                    <button onclick="closeEditModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>

                <!-- Content - Scrollable -->
                <div class="flex-1 overflow-y-auto p-6" style="max-height: calc(95vh - 140px);">
                    <form id="editForm" class="space-y-6">
                        <!-- Status and Delivery -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="editStatus" class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                                <select id="editStatus" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option value="pending">Pending</option>
                                    <option value="processing">Processing</option>
                                    <option value="in-transit">In Transit</option>
                                    <option value="out-for-delivery">Out for Delivery</option>
                                    <option value="on-hold">On Hold</option>
                                    <option value="delivered">Delivered</option>
                                    <option value="cancelled">Cancelled</option>
                                </select>
                            </div>
                            <div>
                                <label for="editEstimatedDelivery" class="block text-sm font-medium text-gray-700 mb-1">Estimated Delivery</label>
                                <input type="datetime-local" id="editEstimatedDelivery" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>

                        <!-- Current Location -->
                        <div>
                            <label for="editCurrentLocation" class="block text-sm font-medium text-gray-700 mb-1">Current Location</label>
                            <input type="text" id="editCurrentLocation" placeholder="e.g., Chicago Distribution Center" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>

                        <!-- Sender Information -->
                        <div class="border-t pt-4">
                            <h4 class="text-lg font-medium text-gray-900 mb-4">Sender Information</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="editSenderName" class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                                    <input type="text" id="editSenderName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editSenderEmail" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                    <input type="email" id="editSenderEmail" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editSenderPhone" class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                    <input type="text" id="editSenderPhone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editSenderAddress" class="block text-sm font-medium text-gray-700 mb-1">Address</label>
                                    <input type="text" id="editSenderAddress" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                            </div>
                        </div>

                        <!-- Receiver Information -->
                        <div class="border-t pt-4">
                            <h4 class="text-lg font-medium text-gray-900 mb-4">Receiver Information</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="editReceiverName" class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                                    <input type="text" id="editReceiverName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editReceiverEmail" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                    <input type="email" id="editReceiverEmail" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editReceiverPhone" class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                    <input type="text" id="editReceiverPhone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editReceiverAddress" class="block text-sm font-medium text-gray-700 mb-1">Address</label>
                                    <input type="text" id="editReceiverAddress" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                            </div>
                        </div>

                        <!-- Package Information -->
                        <div class="border-t pt-4">
                            <h4 class="text-lg font-medium text-gray-900 mb-4">Package Information</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <div>
                                    <label for="editPackageName" class="block text-sm font-medium text-gray-700 mb-1">Item Name</label>
                                    <input type="text" id="editPackageName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editPackageDescription" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                                    <input type="text" id="editPackageDescription" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editPackageCategory" class="block text-sm font-medium text-gray-700 mb-1">Category</label>
                                    <select id="editPackageCategory" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                        <option value="">Select Category</option>
                                        <option value="electronics">Electronics</option>
                                        <option value="clothing">Clothing</option>
                                        <option value="books">Books</option>
                                        <option value="home">Home & Garden</option>
                                        <option value="sports">Sports</option>
                                        <option value="health">Health & Beauty</option>
                                        <option value="automotive">Automotive</option>
                                        <option value="jewelry">Jewelry</option>
                                        <option value="toys">Toys</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="editPackageCost" class="block text-sm font-medium text-gray-700 mb-1">Cost ($)</label>
                                    <input type="number" id="editPackageCost" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editPackageWeight" class="block text-sm font-medium text-gray-700 mb-1">Weight (kg)</label>
                                    <input type="number" id="editPackageWeight" step="0.1" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editPackageDimensions" class="block text-sm font-medium text-gray-700 mb-1">Dimensions</label>
                                    <input type="text" id="editPackageDimensions" placeholder="e.g., 10x10x5 cm" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="editPaymentMethod" class="block text-sm font-medium text-gray-700 mb-1">Payment Method</label>
                                    <select id="editPaymentMethod" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                        <option value="">Select Payment Method</option>
                                        <option value="cash">Cash</option>
                                        <option value="credit-card">Credit Card</option>
                                        <option value="debit-card">Debit Card</option>
                                        <option value="bank-transfer">Bank Transfer</option>
                                        <option value="paypal">PayPal</option>
                                        <option value="venmo">Venmo</option>
                                        <option value="cashapp">Cash App</option>
                                        <option value="zelle">Zelle</option>
                                        <option value="apple-pay">Apple Pay</option>
                                        <option value="chime">Chime</option>
                                        <option value="gift-cards">Gift Cards</option>
                                        <option value="crypto">Cryptocurrency</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="editServiceType" class="block text-sm font-medium text-gray-700 mb-1">Service Type</label>
                                    <select id="editServiceType" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                        <option value="standard">Standard</option>
                                        <option value="express">Express</option>
                                        <option value="overnight">Overnight</option>
                                        <option value="economy">Economy</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Action Buttons - Fixed at bottom -->
                <div class="flex justify-end space-x-3 p-6 border-t bg-gray-50 rounded-b-lg sticky bottom-0">
                    <button type="button" onclick="closeEditModal()" class="px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500">
                        Cancel
                    </button>
                    <button type="submit" form="editForm" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        Update Shipment
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="firebase-config.js"></script>
    <script src="utils.js"></script>
    <script src="script-leaflet.js"></script>
</body>
</html>
